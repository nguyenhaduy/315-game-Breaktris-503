<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <link rel="stylesheet" type="text/css" href="client/css/style.css" />
    <title>Breaktris HTML5</title>
    <style>* { padding: 0; margin: 0; }</style>
    <script src="https://cdn.socket.io/socket.io-1.4.5.js"></script>
    <script>
    	var myID;
        var playing = false;
        var blockRotate = 0;
        var blockInvis = 0;
        var addBrickLine = 0;
        var bricksClear = 0;
        var lineClear = 0;
        var WinImg;
        var LoseImg;
        var PlayButton;
        var NewButton;
        var JoinButton;
        var IntroButton;
        var TetrisBoard;
        var BreakoutBoard;
        var MainScreen;
    	socket = io();

        // Update ID
    	socket.on('player ID',function(data){
            window.myID = data;
            console.log(myID);
        })

        function create() {}
    </script>
    
    <script src="client/engine/phaser.min.js" type="text/javascript"></script>
    <script type="text/javascript" src="client/js/pieces.js"></script>
    <script type="text/javascript" src="client/js/BulkImageLoader.js"></script>
    
    

</head>
<body>
    <div id="game">
        <div id="MainScreen" >
            <canvas id="menu" width="640" height="640"></canvas>
            <img id="TitleBackground" src="client/img/title.jpg" align="top"></img>
            <button id="PlayButton" style="display:none;">Play Game</button>
            <button id="NewButton">Create New Room</button>
            <button id="JoinButton">Join Existing Room</button>
            <button id="IntroButton">How To Play</button>
            <script type="text/javascript" src="client/js/menu.js"></script>
            
        </div>

        <div id="CreateRoomScreen" style="display:none;">
            <!-- <canvas id="menu" width="640" height="640"></canvas> -->
            Room name: <input id="CreateRoomName" type="text"></input><br>
            <button id="CreateButton">Create New Room</button>
            <button id="BackButton1">Back</button>            
        </div>

        <div id="JoinRoomScreen" style="display:none;">
            <!-- <canvas id="menu" width="640" height="640"></canvas> -->
            Room name: <input id="JoinRoomName" type="text"></input><br>
            <select name="drop1" id="Select1" size="4" multiple="multiple">
                <option value="1">item 1</option>
                <option value="2">item 2</option>
                <option value="3">item 3</option>
                <option value="4">item 4</option>
                <option value="0">All</option>

            </select>

            <button id="JoinRoomButton">Join Room</button>
            <button id="BackButton2">Back</button>            
        </div>

        
        
    	<div id="TetrisBoard" style="display:none;">
            <canvas id="tetris" width="320" height="640"></canvas>
            <script type="text/javascript" src="client/js/tetris.js"></script>
        </div>   

        
        

        <div id="BreakoutBoard" style="display:none;">
            <div id="breakout" width="320" height="640"></div>
            <script src="client/js/breakout.js" type="text/javascript"></script>
        </div>
        <div id="score" style="display:none;">
            <p>Lines: <span id="lines"></span></p>
        </div>
        

        <img id="WinImg" src="client/img/WinGame.jpg" align="top" style="display:none;"></img>
        <img id="LoseImg" src="client/img/LoseGame.jpg" align="top" style="display:none;"></img>

        <script type="text/javascript">
                WinImg = document.getElementById('WinImg');
                LoseImg = document.getElementById('LoseImg');

                MainScreen = document.getElementById('MainScreen');
                PlayButton = document.getElementById('PlayButton');
                NewButton = document.getElementById('NewButton');
                JoinButton = document.getElementById('JoinButton');
                IntroButton = document.getElementById('PlayButton');

                CreateRoomScreen = document.getElementById('CreateRoomScreen');
                CreateButton = document.getElementById('CreateButton');
                BackButton1 = document.getElementById('BackButton1');
                CreateRoomName = document.getElementById('CreateRoomName');

                JoinRoomScreen = document.getElementById('JoinRoomScreen');
                JoinRoomButton = document.getElementById('JoinRoomButton');
                BackButton2 = document.getElementById('BackButton2');
                JoinRoomName = document.getElementById('JoinRoomName');

                TetrisBoard = document.getElementById('TetrisBoard');
                BreakoutBoard = document.getElementById('BreakoutBoard');
                                

                PlayButton.onclick = function (){
                    MainScreen.style.display = 'none';
                    TetrisBoard.style.display = 'inline-block';
                    BreakoutBoard.style.display = 'inline-block';
                }

                NewButton.onclick = function (){
                    MainScreen.style.display = 'none';
                    CreateRoomScreen.style.display = 'inline-block';
                }

                JoinButton.onclick = function (){
                    MainScreen.style.display = 'none';
                    JoinRoomScreen.style.display = 'inline-block';
                }

                JoinRoomButton.onclick = function (){
                    socket.emit('JoinRoom', JoinRoomName.value);              
                    JoinRoomScreen.style.display = 'none';
                    TetrisBoard.style.display = 'inline-block';
                    BreakoutBoard.style.display = 'inline-block';
                    BreakoutRun();
                }

                CreateButton.onclick = function (){
                    socket.emit('CreateRoom', CreateRoomName.value);
                    CreateRoomScreen.style.display = 'none';
                    TetrisBoard.style.display = 'inline-block';
                    BreakoutBoard.style.display = 'inline-block';
                    BreakoutRun();
                }

                BackButton1.onclick = function (){
                    MainScreen.style.display = 'inline-block';
                    CreateRoomScreen.style.display = 'none';
                }

                BackButton2.onclick = function (){
                    MainScreen.style.display = 'inline-block';
                    JoinRoomScreen.style.display = 'none';
                }
            </script>

    </div>
</body>
</html>